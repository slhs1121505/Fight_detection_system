# ğŸ¥Š Fight Detection System
**åŸºæ–¼ YOLO Pose Estimation çš„å³æ™‚æ‰“æ¶åµæ¸¬ç³»çµ±**

---

## ğŸ“‹ å°ˆé¡Œè³‡è¨Š
- **å­¸æ ¡**: è‡ºåŒ—å¸‚ç«‹å£«æ—é«˜ç´šå•†æ¥­è·æ¥­å­¸æ ¡
- **é¡å‹**: é«˜è·å°ˆé¡Œè£½ä½œ
- **æŠ€è¡“**: é›»è…¦è¦–è¦º + æ·±åº¦å­¸ç¿’
- **é–‹ç™¼èªè¨€**: Python

---

## ğŸ¯ ç³»çµ±åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **å³æ™‚äººé«”å§¿æ…‹åµæ¸¬** - ä½¿ç”¨ YOLOv8n Pose æ¨¡å‹
- âœ… **æ‰“æ¶è¡Œç‚ºè­˜åˆ¥** - åŸºæ–¼æ‰‹è‡‚é‡ç–Šåº¦ç®—æ³•
- âœ… **è¦–è¦ºåŒ–ä»‹é¢** - éª¨æ¶é¡¯ç¤º + å³æ™‚ç‹€æ…‹
- âœ… **è­¦å ±ç³»çµ±** - è²éŸ³æé†’ + è¦–è¦ºè­¦ç¤º
- âœ… **æ•ˆèƒ½ç›£æ§** - FPS é¡¯ç¤º + çµ±è¨ˆè³‡æ–™

### åµæ¸¬é‚è¼¯
1. **å§¿æ…‹æ“·å–**: åµæ¸¬äººé«” 17 å€‹é—œéµé»
2. **äº’å‹•åˆ†æ**: è¨ˆç®—å¤šäººé–“æ‰‹è‡‚é‡ç–Šç¨‹åº¦
3. **è¡Œç‚ºåˆ¤å®š**: è¶…éé–¾å€¼è§¸ç™¼è­¦å ±
4. **æŒçºŒè¿½è¹¤**: 3 ç§’è­¦å ±æŒçºŒæ™‚é–“

---

## ğŸ› ï¸ ç’°å¢ƒéœ€æ±‚

### ç³»çµ±éœ€æ±‚
- **ä½œæ¥­ç³»çµ±**: Windows 10/11, macOS, Linux
- **Python**: 3.8 æˆ–ä»¥ä¸Šç‰ˆæœ¬
- **ç¡¬é«”**: æ”¯æ´æ”åƒé ­çš„é›»è…¦

### å¥—ä»¶å®‰è£
```bash
# å®‰è£å¿…è¦å¥—ä»¶
pip install ultralytics opencv-python numpy pygame

# æˆ–ä½¿ç”¨ requirements.txt
pip install -r requirements.txt
```

### Requirements.txt
```txt
ultralytics>=8.0.0
opencv-python>=4.5.0
numpy>=1.21.0
pygame>=2.1.0
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ä¸‹è¼‰å°ˆæ¡ˆ
```bash
git clone https://github.com/yourusername/fight-detection-system.git
cd fight-detection-system
```

### 2. å®‰è£ä¾è³´
```bash
pip install -r requirements.txt
```

### 3. åŸ·è¡Œç³»çµ±
```bash
python fight_detection_system.py
```

### 4. æ“ä½œæŒ‡ä»¤
- **`q`**: é€€å‡ºç³»çµ±
- **`r`**: é‡ç½®çµ±è¨ˆæ•¸æ“š

---

## ğŸ“Š ç³»çµ±åƒæ•¸

### å¯èª¿æ•´åƒæ•¸
```python
confidence_threshold = 0.5    # å§¿æ…‹åµæ¸¬ä¿¡å¿ƒåº¦
overlap_threshold = 0.3       # æ‰‹è‡‚é‡ç–Šé–¾å€¼
alert_duration = 3.0          # è­¦å ±æŒçºŒæ™‚é–“(ç§’)
```

### åµæ¸¬æ¢ä»¶
- **è·é›¢é–¾å€¼**: æ‰‹è‡‚é—œéµé»è·é›¢ < 50 åƒç´ 
- **é‡ç–Šæ•¸é‡**: è‡³å°‘ 2 å€‹é—œéµé»é‡ç–Š
- **å¹³å‡è·é›¢**: æ‰‹è‡‚å¹³å‡è·é›¢ < 80 åƒç´ 

---

## ğŸ–¥ï¸ ç³»çµ±ä»‹é¢

### ä¸»è¦é¡¯ç¤º
- **å³æ™‚å½±åƒ**: æ”åƒé ­ç•«é¢ + éª¨æ¶è¦†è“‹
- **ç‹€æ…‹æ¬„**: åµæ¸¬ç‹€æ…‹ã€FPSã€äººæ•¸çµ±è¨ˆ
- **è­¦å ±å€**: ç´…è‰²é–ƒçˆæé†’
- **çµ±è¨ˆè³‡æ–™**: é‹è¡Œæ™‚é–“ã€ç¸½è­¦å ±æ¬¡æ•¸

### è¦–è¦ºå…ƒç´ 
- ğŸŸ¢ **ç¶ è‰²éª¨æ¶**: æ­£å¸¸ç‹€æ…‹
- ğŸ”´ **ç´…è‰²è­¦ç¤º**: åµæ¸¬åˆ°æ‰“æ¶
- ğŸ“Š **åŠé€æ˜é¢æ¿**: ç³»çµ±è³‡è¨Šé¡¯ç¤º

---

## ğŸ§  æŠ€è¡“æ¶æ§‹

### æ ¸å¿ƒæŠ€è¡“
```
YOLOv8n Pose â†’ å§¿æ…‹ä¼°è¨ˆ â†’ ç‰¹å¾µæå– â†’ è¡Œç‚ºåˆ†æ â†’ è­¦å ±è§¸ç™¼
```

### è™•ç†æµç¨‹
1. **å½±åƒè¼¸å…¥** â†’ æ”åƒé ­æ“·å–
2. **å§¿æ…‹åµæ¸¬** â†’ YOLO æ¨¡å‹æ¨è«–
3. **ç‰¹å¾µè¨ˆç®—** â†’ é—œéµé»è·é›¢åˆ†æ
4. **è¡Œç‚ºåˆ¤å®š** â†’ é‡ç–Šåº¦è©•ä¼°
5. **çµæœè¼¸å‡º** â†’ è¦–è¦ºåŒ– + è­¦å ±

### æ•ˆèƒ½å„ªåŒ–
- å½±åƒç¸®æ”¾ (640px å¯¬åº¦)
- ç·©è¡å€ç®¡ç† (æ¸›å°‘å»¶é²)
- å¤šåŸ·è¡Œç·’éŸ³æ•ˆæ’­æ”¾
- FPS å¹³æ»‘è¨ˆç®—

---

## ğŸ¥ ç¤ºç¯„å±•ç¤º

### ç³»çµ±æˆªåœ–
![ç³»çµ±ä¸»ä»‹é¢](docs/screenshots/main_interface.png)
![åµæ¸¬çµæœ](docs/screenshots/detection_result.png)

### å±•ç¤ºå½±ç‰‡
![ç³»çµ±å±•ç¤º](docs/demo.gif)

---

## âš™ï¸ é€²éšè¨­å®š

### æ”åƒé ­è¨­å®š
```python
cap.set(cv2.CAP_PROP_FRAME_WIDTH, 1280)   # è§£æåº¦å¯¬åº¦
cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 720)   # è§£æåº¦é«˜åº¦
cap.set(cv2.CAP_PROP_FPS, 30)             # å¹€ç‡è¨­å®š
```

### åµæ¸¬æ•æ„Ÿåº¦èª¿æ•´
```python
# æé«˜æ•æ„Ÿåº¦ (æ›´å®¹æ˜“è§¸ç™¼)
confidence_threshold = 0.3
overlap_threshold = 0.2

# é™ä½æ•æ„Ÿåº¦ (æ¸›å°‘èª¤å ±)
confidence_threshold = 0.7
overlap_threshold = 0.5
```

---

## ğŸ› å¸¸è¦‹å•é¡Œ

### Q: ç„¡æ³•é–‹å•Ÿæ”åƒé ­ï¼Ÿ
**A**: æª¢æŸ¥æ”åƒé ­æ˜¯å¦è¢«å…¶ä»–ç¨‹å¼ä½”ç”¨ï¼Œæˆ–å˜—è©¦ä¿®æ”¹ `source` åƒæ•¸ï¼š
```python
detector.run(source=1)  # å˜—è©¦å…¶ä»–æ”åƒé ­
```

### Q: åµæ¸¬æº–ç¢ºç‡ä¸é«˜ï¼Ÿ
**A**: èª¿æ•´ä¿¡å¿ƒåº¦é–¾å€¼æˆ–é‡ç–Šåƒæ•¸ï¼š
```python
self.confidence_threshold = 0.3  # é™ä½é–¾å€¼
self.overlap_threshold = 0.2     # æé«˜æ•æ„Ÿåº¦
```

### Q: æ²’æœ‰è­¦å ±è²éŸ³ï¼Ÿ
**A**: ç¢ºèªç³»çµ±éŸ³é‡è¨­å®šï¼Œæˆ–æª¢æŸ¥ pygame æ˜¯å¦æ­£ç¢ºå®‰è£ã€‚

---

## ğŸ“ˆ æ•ˆèƒ½è¡¨ç¾

### æ¸¬è©¦ç’°å¢ƒ
- **CPU**: Intel i5-8400 / AMD Ryzen 5 3600
- **RAM**: 8GB DDR4
- **æ”åƒé ­**: 1080p @ 30fps

---

## ğŸ‘¥ é–‹ç™¼åœ˜éšŠ

### å°ˆé¡Œæˆå“¡
- **é–‹ç™¼è€…**: å¼µå­å¤«
- **æŒ‡å°è€å¸«**: å¾å¿…å¤§
- **å­¸æ ¡**: è‡ºåŒ—å¸‚ç«‹å£«æ—é«˜ç´šå•†æ¥­è·æ¥­å­¸æ ¡

### è¯çµ¡è³‡è¨Š
- **Email**: tzufu.taiwan@gmail.com
- **GitHub**: [@slhs1121505](https://github.com/slhs1121505)

---

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆé¡Œæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

---

## ğŸ™ è‡´è¬

- **YOLOv8n**: Ultralytics åœ˜éšŠæä¾›çš„è¼•é‡åŒ–å§¿æ…‹ä¼°è¨ˆæ¨¡å‹
- **OpenCV**: å¼·å¤§çš„é›»è…¦è¦–è¦ºå‡½å¼åº«
- **æŒ‡å°è€å¸«**: å°ˆæ¥­æŒ‡å°èˆ‡å»ºè­°
- **åŒå­¸å€‘**: æ¸¬è©¦èˆ‡å›é¥‹æ”¯æŒ

---

## ğŸ“š åƒè€ƒè³‡æ–™

### æŠ€è¡“æ–‡ä»¶
- [YOLOv8 å®˜æ–¹æ–‡æª”](https://docs.ultralytics.com/)
- [OpenCV Python æ•™å­¸](https://opencv-python-tutroals.readthedocs.io/)
- [Pose Estimation ç†è«–](https://learnopencv.com/human-pose-estimation-using-openpose-with-tensorflow/)

### å­¸è¡“è«–æ–‡
- ["You Only Look Once: Unified, Real-Time Object Detection"](https://www.cv-foundation.org/openaccess/content_cvpr_2016/papers/Redmon_You_Only_Look_CVPR_2016_paper.pdf)

---

**â­ å¦‚æœé€™å€‹å°ˆé¡Œå°ä½ æœ‰å¹«åŠ©ï¼Œè«‹çµ¦å€‹ Starï¼**

---

*README.md ç”± Claude Sonnet 4 å”åŠ©æ’°å¯«*
*æœ€å¾Œæ›´æ–°: 2025å¹´6æœˆ15æ—¥*
